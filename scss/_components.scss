/******************* COMPONENTS *******************/
@use "colors" as *;
@use "typography" as *;
@use "config" as *;
@use "objects";

/* NAV */

// home nav
 .main-nav {
  @include flexBetween;
  flex-wrap: wrap;
  row-gap: .75rem;
  width: 96%;

  a {
    width: 48%;
    height: 80px;
    padding: 24px;
    @extend %btn;
    border-color: $border-color-light;
    transition: border-color 0.2s ease;

    &:hover {
      border-color: $primary-color;
    }

    img {
      width: 100%;
    }
  }
    
  // media queries
  @include mq-sm {
    width: 90%;

    a {
      width: 33%;
      height: 120px;
      padding: 28px;
    }
  }

  @include mq-md {
    width: 80%;

    a {
      width: 18%;
      height: 120px;
      padding: 32px;
    }
  }
}

/* MODALS */

// default popup
.popup {
  @extend %card;
  @include flexAlign(column, .75rem, start);
  position: absolute;
  right: 0;
  z-index: 3;
  min-width: 120px;
  max-height: 80vh;
  overflow: auto;
  padding: 1rem;
  text-align: left;
  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.24);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(-12px);
  transition: opacity 0.2s ease, transform 0.2s ease, visibility 0s linear 0.2s;

  &.is-open {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0s;
  }

  .pp-title {
    color: var(--primary-color);;
  }

  .pp-content {
    @include flex(row, 1rem);

    .filters {
      @include flex(column, 1rem);
    }

    .advanced-filters {
       @include flex(row, 1rem);
    }
  }

  .grid-list {
    @include flex(row, 1rem);
    width: 100%;

    li {
    @include flexAlign(row, .5rem);
    width: 25%;
    }

    img {
    width: 40px;
    height: 26px;
    }
  }
}

/* BUTTONS GROUPS */

// export btns
.action-tools {
  @include flexAlign(row, .75rem);

  .btn-primary, .btn-secondary {
    width: 40px;
    height: 40px;
    padding: 0;

    svg {
      width: 26px;
    }
  }

  .btn-primary {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.4);

    svg {
      fill: var(--txt-secondary);
    }

    &:hover {
      border-color: white;
    }
  }
}

// calendar
.time-container {
  @include flexAlign(row, .75rem);

  .btn-primary {
    height: 40px;
    color: var(--txt-primary);
    border: transparent;

    svg {
      width: 26px;
    }

    &:hover {
      color: var(--txt-secondary);
    }
  }

  > .btn-primary {
    width: 40px;
    padding: 0;
  }

  .period-menu { 
    .btn-primary {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      width: 132px;
    }

    .period-label {
      max-width: 84px;
      @include ellipsis;
    }

    .chevron {
      width: 18px; 
      height: 18px;
      transition: transform .2s ease;
    }

    .popup {
      padding: .5rem 0;
    }

    .pickers {
      @include flex;

      .period-item {
        width: 100%;
        padding: .75rem 1.5rem;
        text-align: left;

        &:hover {
          background-color: var(--bg-sidenav);
        }
      }
    }

    &.is-open {
      .chevron { transform: rotate(180deg); }
    }
  }

  .popup {
    .pp-quick {
      @include flex(column, .5rem);
      justify-content: space-between;
      padding-top: 1.25rem;
      
      .pp-chip {
        height: 28px;
        padding-inline: .5rem;
        font-size: $xs-txt;
        font-weight: 600;
        background: rgba(0, 0, 0, .03);
        border: 1px solid rgba(0, 0, 0, .12);
        border-radius: 4px;
        cursor: pointer;
        transition: background .2s ease, border-color .2s ease, color .2s ease;

        &:hover{
          background: rgba(0, 0, 0, .06);
        }

        &.is-active{
          color: var(--txt-secondary);
          background: var(--bg-selected);
          border-color: var(--bg-selected);
        }
      }
    }

    .pp-content {
      gap: 1.25rem;

      .pp-filters {
        @include flex(column, 1rem);
      }

      .advanced-filters {
        @include flex(row, 1rem);
      }

      .daypicker {
        @include flexCenter;
        height: 100px;
        color: var(--txt-default);
        border: 1px solid var(--bg-side-hov);
      }
    }

    .input-btn {
      display: flex;
      align-items: center;
    }
  }
}

.time-controls {
  display: none;
}

/* TOGGLE GRAPHS */

// container
.card-switch {
  position: relative;
  flex: 1;

  // switch btns
  .view-switch {
    @include flex(row, .25rem);
    position: absolute;
    top: -4px;
    right: 8px;

    .view-btn {
      width: 28px;
      height: 28px;
      font-size: $sm-txt;
      background-color: $bg-ninja;
      border-radius: 50%;
      opacity: .6;

      &.is-active {
        opacity: 1;
      }
    }
  }

  // views
  .graph-views {
    height: 100%;

    .graph-view {
      display: flex;
      height: 100%;

      &[hidden] {
        display: none !important;
      }
    }
  }
}

/*

.period-menu .popup{
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  min-width: 220px;
  padding: 6px;
  border-radius: 10px;
  background: #fff;
  box-shadow: 0 10px 22px rgba(0,0,0,.18);

  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(-6px);
  transition: opacity .2s ease, transform .2s ease, visibility 0s linear .2s;
}

.period-menu.is-open .popup{
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateY(0);
  transition: opacity .2s ease, transform .2s ease, visibility 0s;
}

.period-menu .popup li{ list-style:none; margin:0; padding:0; }

.period-menu .period-item{
  width: 100%;
  text-align: left;
  padding: 10px 10px;
  border: 0;
  background: transparent;
  border-radius: 8px;
  cursor: pointer;
}

.period-menu .period-item:hover{
  background: rgba(0,0,0,.05);
}

*/