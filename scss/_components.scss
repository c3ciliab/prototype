/******************* COMPONENTS *******************/
@use "colors" as *;
@use "typography" as *;
@use "config" as *;
@use "objects";

/* HATCHERY SEARCH */
.menu-filter {
  .filter-btn {
    span {
      text-align: left;
    }
    .chevron {
      width: 18px;
      height: 18px;
      transition: transform var(--tr);
    }
  }

  .filter-list {
    max-height: 0;
    overflow: hidden;
    font-size: $sm-txt;
    opacity: 0;

    /* Panel */
    .filter-panel {
      @extend %card;
      padding: .5rem;
    }

    .filter-search {
      @include flexAlign;
      padding: .5rem;
      border: 1px solid #e3e6eb;
      border-radius: 8px;

      svg {
        width: 28px;
        fill: #3c3c3c;
      }

      .search-input {
        width: 100%;
        border: 0;
      }

      .search-clear {
        height: auto;
        line-height: 1;
        padding: .25rem .4rem;
        background: transparent;
        border: 0;
        border-radius: 6px;
        cursor: pointer;

        &:hover {
          background: #f3f5f8;
        }
      }
    }

    .checklist {
      max-height: 260px;
      overflow: auto;
      margin: .5rem 0 0;
      border-radius: 8px;

      .check-items {
        max-height: 120px;
        overflow-y: scroll;
      }

      .checklist-item {
        padding: .35rem .5rem;
        white-space: nowrap;
        border-radius: 6px;

        .check {
          @include flexAlign(row, .6rem);
          cursor: pointer;
          user-select: none;

          .check-input { 
            width: 16px;
            height: 16px;
          }
        }

        &:hover { background:#f3f5f8; }
      }
    }
  }

  &.is-open {
    .chevron {
      transform: rotate(180deg); /* down -> up */
    }
  }
}

/* HOME NAV */
 .main-nav {
  @include flexBetween;
  flex-wrap: wrap;
  row-gap: .75rem;
  width: 96%;

  a {
    width: 48%;
    height: 80px;
    padding: 24px;
    @extend %btn;
    border-color: $border-color-light;
    transition: border-color var(--tr);

    &:hover {
      border-color: $primary-color;
    }

    img {
      width: 100%;
    }
  }
    
  // media queries
  @include mq-sm {
    width: 90%;

    a {
      width: 33%;
      height: 120px;
      padding: 28px;
    }
  }

  @include mq-md {
    width: 80%;

    a {
      width: 18%;
      height: 120px;
      padding: 32px;
    }
  }
}

/* MODALS */

// default popup
.popup {
  @extend %card;
  @include flexAlign(column, .75rem, start);
  position: absolute;
  right: 0;
  z-index: 3;
  min-width: 120px;
  max-height: 80vh;
  overflow: auto;
  padding: 1rem;
  text-align: left;
  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.24);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(-12px);
  transition: opacity var(--tr), transform var(--tr), visibility 0s linear 0.24s;

  &.is-open {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
    transition: opacity var(--tr), transform var(--tr), visibility 0s;
  }

  .pp-title {
    color: var(--primary-color);;
  }

  .pp-content {
    @include flex(row, 1rem);

    .filters {
      @include flex(column, 1rem);
    }

    .advanced-filters {
       @include flex(row, 1rem);
    }
  }

  .grid-list {
    @include flex(row, 1rem);
    width: 100%;

    li {
    @include flexAlign(row, .5rem);
    width: 25%;
    }

    img {
    width: 40px;
    height: 26px;
    }
  }
}

.popuprefonte{
  position:absolute;
  z-index: 50;
  min-width: 220px;
  background: var(--bg-card);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
  overflow:hidden;

  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(-10px);
  @include transition((opacity, transform, visibility), .24s);

  &[aria-hidden="false"]{
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
  }
}

/* BUTTONS GROUPS */

// export btns
.action-tools {
  @include flexAlign(row, .75rem);

  .btn-primary, .btn-secondary {
    width: 40px;
    height: 40px;
    padding: 0;

    svg {
      width: 26px;
    }
  }

  .btn-primary {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.4);

    svg {
      fill: var(--txt-secondary);
    }

    &:hover {
      border-color: white;
    }
  }
}

// calendar
.time-container {
  @include flexAlign(row, .75rem);

  .btn-primary {
    height: 40px;
    color: var(--txt-primary);
    border: transparent;

    svg {
      width: 26px;
    }

    &:hover {
      color: var(--txt-secondary);
    }
  }

  > .btn-primary {
    width: 40px;
    padding: 0;
  }

  .period-menu { 
    .btn-primary {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      width: 132px;
    }

    .period-label {
      max-width: 84px;
      @include ellipsis;
    }

    .chevron {
      width: 18px; 
      height: 18px;
      transition: transform var(--tr);
    }

    .popup {
      padding: .5rem 0;
    }

    .pickers {
      @include flex;

      .period-item {
        width: 100%;
        padding: .75rem 1.5rem;
        text-align: left;

        &:hover {
          background-color: var(--bg-sidenav);
        }
      }
    }

    &.is-open {
      .chevron { transform: rotate(180deg); }
    }
  }

  .popup {
    .pp-quick {
      @include flex(column, .5rem);
      justify-content: space-between;
      padding-top: 1.25rem;
      
      .pp-chip {
        height: 28px;
        padding-inline: .5rem;
        font-size: $xs-txt;
        font-weight: 600;
        background: rgba(0, 0, 0, .03);
        border: 1px solid rgba(0, 0, 0, .12);
        border-radius: 4px;
        cursor: pointer;
        transition: background var(--tr), border-color var(--tr), color var(--tr);

        &:hover{
          background: rgba(0, 0, 0, .06);
        }

        &.is-active{
          color: var(--txt-secondary);
          background: var(--bg-selected);
          border-color: var(--bg-selected);
        }
      }
    }

    .pp-content {
      gap: 1.25rem;

      .pp-filters {
        @include flex(column, 1rem);
      }

      .advanced-filters {
        @include flex(row, 1rem);
      }

      .daypicker {
        @include flexCenter;
        height: 100px;
        color: var(--txt-default);
        border: 1px solid var(--bg-side-hov);
      }
    }

    .input-btn {
      display: flex;
      align-items: center;
    }
  }
}

.time-controls {
  display: none;
}

/* TOGGLE GRAPHS */

// container
.card-switch {
  position: relative;
  flex: 1;

  // switch btns
  .view-switch {
    @include flex(row, .25rem);
    position: absolute;
    top: -4px;
    right: 8px;

    .view-btn {
      width: 28px;
      height: 28px;
      font-size: $sm-txt;
      background-color: $bg-ninja;
      border-radius: 50%;
      opacity: .6;

      &.is-active {
        opacity: 1;
      }
    }
  }

  // views
  .graph-views {
    height: 100%;

    .graph-view {
      display: flex;
      height: 100%;

      &[hidden] {
        display: none !important;
      }
    }
  }
}
